var str = [
  {
    timestamp: 1535042150640,
    lastHash:
      "00258ef444e72092b0b060ac84394d642744637257cfdf23bf73a476fa72dd28",
    hash: "08rerer3453453r34534r34534c1d8dcb5227654645645645627ebc5c89f",
    data: [
      {
        input: {
          timestamp: 1535042150638,
          transaction_type: "register_transaction",
          transaction_sender:
            "-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDi6oPd0f1YAwJcO87JbZvJdKeb\nlGx9uKc13CeMiCf4cpyx6AHK+iVd0r/EUy9Bnj5ILBRmT9Xx6zTOb6YUHf3kECTu\nU8djKsQD9pETlhZuBTgeO8SbwYmkbCGLP6JbaOydng2rr0hE2vhXndejCPy3sE1H\nZURSsSJphyjFqZrauwIDAQAB\n-----END PUBLIC KEY-----",
          signature:
            "d58e5cf78e5c7e4d1ca95cab913e58b15144a898b480285cf4bb6a084672bd5362b58b9ad8f0a103b13b1c741a3374bdd3b3b5cfae852f56c0c5720e66b219143b59e4830cfb7542cf390b74703bdd862b9da1ac7b4c891b758805b3ac72430607e4fe80d2e3605a260469830f5bdbddcdf27bb29048adb2d6d12e0e756ff137"
        },
        outputs: [
          {
            mobilePhone: "537563543",
            email: "alex@mail.ru",
            fio: "fio1",
            user:
              "-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDi6oPd0f1YAwJcO87JbZvJdKeb\nlGx9uKc13CeMiCf4cpyx6AHK+iVd0r/EUy9Bnj5ILBRmT9Xx6zTOb6YUHf3kECTu\nU8djKsQD9pETlhZuBTgeO8SbwYmkbCGLP6JbaOydng2rr0hE2vhXndejCPy3sE1H\nZURSsSJphyjFqZrauwIDAQAB\n-----END PUBLIC KEY-----"
          }
        ]
      }
    ],
    nonce: 14,
    difficulty: 1
  },
  {
    timestamp: 1535042150640,
    lastHash:
      "00258ef444e72092b0b060ac84394d642744637257cfdf23bf73a476fa72dd28",
    hash: "08c1d8dcb5256y65y4y46y5y46ya7d9031c0759e2518c51c827ebc5c89f",
    data: [
      {
        input: {
          timestamp: 1535042150638,
          transaction_type: "register_transaction",
          transaction_sender:
            "-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDi6oPd0f1YAwJcO87JbZvJdKeb\nlGx9uKc13CeMiCf4cpyx6AHK+iVd0r/EUy9Bnj5ILBRmT9Xx6zTOb6YUHf3kECTu\nU8djKsQD9pETlhZuBTgeO8SbwYmkbCGLP6JbaOydng2rr0hE2vhXndejCPy3sE1H\nZURSsSJphyjFqZrauwIDAQAB\n-----END PUBLIC KEY-----",
          signature:
            "d58e5cf78e5c7e4d1ca95cab913e58b15144a898b480285cf4bb6a084672bd5362b58b9ad8f0a103b13b1c741a3374bdd3b3b5cfae852f56c0c5720e66b219143b59e4830cfb7542cf390b74703bdd862b9da1ac7b4c891b758805b3ac72430607e4fe80d2e3605a260469830f5bdbddcdf27bb29048adb2d6d12e0e756ff137"
        },
        outputs: [
          {
            mobilePhone: "53443243",
            email: "tom@gmail.com",
            fio: "fio",
            user:
              "-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDi6oPd0f1YAwJcO87JbZvJdKeb\nlGx9uKc13CeMiCf4cpyx6AHK+iVd0r/EUy9Bnj5ILBRmT9Xx6zTOb6YUHf3kECTu\nU8djKsQD9pETlhZuBTgeO8SbwYmkbCGLP6JbaOydng2rr0hE2vhXndejCPy3sE1H\nZURSsSJphyjFqZrauwIDAQAB\n-----END PUBLIC KEY-----"
          }
        ]
      }
    ],
    nonce: 14,
    difficulty: 1
  },
  {
    timestamp: 1535042150640,
    lastHash:
      "00258ef444e72092b0b060ac84394d642744637257cfdf23bf73a476fa72dd28",
    hash: "08c1d8dcb5256y65y4y46y5y46ya7d9031c0759e2518c51c827ebc5c89f",
    data: [
      {
        input: {
          timestamp: 1535042150638,
          transaction_type: "sign_transaction",
          transaction_sender:
            "-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDi6oPd0f1YAwJcO87JbZvJdKeb\nlGx9uKc13CeMiCf4cpyx6AHK+iVd0r/EUy9Bnj5ILBRmT9Xx6zTOb6YUHf3kECTu\nU8djKsQD9pETlhZuBTgeO8SbwYmkbCGLP6JbaOydng2rr0hE2vhXndejCPy3sE1H\nZURSsSJphyjFqZrauwIDAQAB\n-----END PUBLIC KEY-----",
          signature:
            "d58e5cf78e5c7e4d1ca95cab913e58b15144a898b480285cf4bb6a084672bd5362b58b9ad8f0a103b13b1c741a3374bdd3b3b5cfae852f56c0c5720e66b219143b59e4830cfb7542cf390b74703bdd862b9da1ac7b4c891b758805b3ac72430607e4fe80d2e3605a260469830f5bdbddcdf27bb29048adb2d6d12e0e756ff137"
        },
        outputs: [
          {
            mobilePhone: "53443243",
            email: "tomas@gmail.com",
            doc_hash: "12331345",
            user:
              "-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDi6oPd0f1YAwJcO87JbZvJdKeb\nlGx9uKc13CeMiCf4cpyx6AHK+iVd0r/EUy9Bnj5ILBRmT9Xx6zTOb6YUHf3kECTu\nU8djKsQD9pETlhZuBTgeO8SbwYmkbCGLP6JbaOydng2rr0hE2vhXndejCPy3sE1H\nZURSsSJphyjFqZrauwIDAQAB\n-----END PUBLIC KEY-----"
          }
        ]
      }
    ],
    nonce: 14,
    difficulty: 1
  },
  {
    timestamp: 1535042150640,
    lastHash:
      "00258ef444e72092b0b060ac84394d642744637257cfdf23bf73a476fa72dd28",
    hash: "08c1d8dcb5256y65y4y46y5y46ya7d9031c0759e2518c51c827ebc5c89f",
    data: [
      {
        input: {
          timestamp: 1535042150638,
          transaction_type: "sign_transaction",
          transaction_sender:
            "-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDi6oPd0f1YAwJcO87JbZvJdKeb\nlGx9uKc13CeMiCf4cpyx6AHK+iVd0r/EUy9Bnj5ILBRmT9Xx6zTOb6YUHf3kECTu\nU8djKsQD9pETlhZuBTgeO8SbwYmkbCGLP6JbaOydng2rr0hE2vhXndejCPy3sE1H\nZURSsSJphyjFqZrauwIDAQAB\n-----END PUBLIC KEY-----",
          signature:
            "d58e5cf78e5c7e4d1ca95cab913e58b15144a898b480285cf4bb6a084672bd5362b58b9ad8f0a103b13b1c741a3374bdd3b3b5cfae852f56c0c5720e66b219143b59e4830cfb7542cf390b74703bdd862b9da1ac7b4c891b758805b3ac72430607e4fe80d2e3605a260469830f5bdbddcdf27bb29048adb2d6d12e0e756ff137"
        },
        outputs: [
          {
            mobilePhone: "53443243",
            email: "tim@gmail.com",
            doc_hash: "12331345",
            user:
              "-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDi6oPd0f1YAwJcO87JbZvJdKeb\nlGx9uKc13CeMiCf4cpyx6AHK+iVd0r/EUy9Bnj5ILBRmT9Xx6zTOb6YUHf3kECTu\nU8djKsQD9pETlhZuBTgeO8SbwYmkbCGLP6JbaOydng2rr0hE2vhXndejCPy3sE1H\nZURSsSJphyjFqZrauwIDAQAB\n-----END PUBLIC KEY-----"
          }
        ]
      }
    ],
    nonce: 14,
    difficulty: 1
  }
];

// var res = str.filter(
//   a =>
//     a.data &&
//     a.data.find(
//       b =>
//         b.input.transaction_type == "sign_transaction" &&
//         b.outputs[0].doc_hash == "12331345"
//     )
// );

var ids =
  "08rerer3453453r34534r34534c1d8dcb5227654645645645627ebc5c89f, 08c1d8dcb5256y65y4y46y5y46ya7d9031c0759e2518c51c827ebc5c89f";
//console.log(arr);

// for (let i = 0; i < id_arr.length; i++) {
//   var res = str.find(
//     a =>
//       a.hash == id_arr[i] &&
//       a.data.find(b => b.input.transaction_type == "register_transaction")
//   );
//   try {
//     console.log(res.data[0].outputs[0].fio);
//   } catch (e) {
//     return -1;
//   }
// }

// console.log(
//   str.find(
//     a =>
//       a.hash == "08rerer3453453r34534r34534c1d8dcb5227654645645645627ebc5c89f"
//   )
// );

function GetDocSignFiosByIds(str, ids) {
  var id_arr = ids.split(", ");
  var res_arr = [];
  for (let i = 0; i < id_arr.length; i++) {
    var res = str.find(
      a =>
        a.hash == id_arr[i] &&
        a.data.find(b => b.input.transaction_type == "register_transaction")
    );
    try {
      res_arr.push(res.data[0].outputs[0].fio);
    } catch (e) {
      return -1;
    }
  }
  return res_arr;
}

console.log(GetDocSignFiosByIds(str, ids));
